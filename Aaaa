= Technical Non-Functional Requirements (NFRs) =
This section defines the technical non-functional requirements for the Observability Platform, implemented using **Kustomize** and **Helm**.

{| class="wikitable" style="width:100%; text-align:left;"
! Requirement Category !! Target / Policy !! Technical Implementation
|-
| Availability || 99.9% uptime for ingestion and Grafana UI || • AKS cluster across AZs • PodDisruptionBudgets for Grafana/OTel • PodAntiAffinity rules • Resource requests/limits in Helm • HPA enabled for Grafana + OTel
|-
| Security || Enforce identity, access, and encryption standards || • AKS in dedicated VNet • Calico NetworkPolicies • Ingress restricted to corporate IPs • Azure AD SSO for AKS + Grafana • Kubernetes RBAC + Azure AD groups • TLS 1.3 everywhere • Blob storage SSE/CMK
|-
| Performance || <5s query latency on hot data (<30d) || • Dedicated memory-optimized node pool (Prometheus) • Prometheus: retention=30d, block=2h • Loki: chunk=1MB, retention=30d • OTel Collector: batch.timeout=5s, send_batch_size=512
|-
| Retention || 30d hot storage; 90d total with cold archive || • Prometheus retention=30d • Loki look_back=30d • Jaeger TTL=30d, export to Blob • Blob Lifecycle Policy: archive after 30d, expire after 90d
|-
| Operability || Self-monitoring, alerting, centralized logs (GitOps future) || • Prometheus scrapes stack metrics • Alertmanager routes to Teams/Slack • Loki aggregates AKS + app logs • GitOps (ArgoCD/FluxCD) optional future adoption
|-
| Cost || Optimize spend with autoscaling + storage tiering || • Spot Node Pools for non-critical workloads • Cluster Autoscaler min/max • Blob storage tiering (Hot→Cool→Archive) • Azure Budgets + Cost Alerts
|-
| Scalability || Autoscale workloads; federation planned || • HPA for Grafana + OTel • VPA for Prometheus + Loki (recommendation mode) • Cluster Autoscaler for AKS • Future: Multi-cluster federation via Azure Arc
|-
| Compliance & Auditability || CIS benchmarks; enforce policies; immutable audit logs || • CIS AKS baseline policies • AKS/KeyVault/AAD logs → Loki • Blob WORM for audit logs • OPA Gatekeeper + Azure Policy • Azure AD Conditional Access + PIM
|}
