Error from server (Invalid): error when creating "/azp/agent/_work/20/s/kustomize/overlays/EDIT/06grafana/kustomization-output.yaml": Grafana.grafana.integreatly.org "grafana-inst" is invalid: [spec.config.auth.disable_login_form: Invalid value: "boolean": spec.config.auth.disable_login_form in body must be of type string: "boolean", spec.config.auth.disable_signout_menu: Invalid value: "boolean": spec.config.auth.disable_signout_menu in body must be of type string: "boolean", <nil>: Invalid value: "null": some validation rules were not checked because the object was invalid; correct the existing errors to complete validation]
Error from server (BadRequest): error when creating "/azp/agent/_work/20/s/kustomize/overlays/EDIT/06grafana/kustomization-output.yaml": GrafanaDatasource in version "v1beta1" cannot be handled as a GrafanaDatasource: strict decoding error: unknown field "spec.datasource[0].access", unknown field "spec.datasource[0].name", unknown field "spec.datasource[0].type", unknown field "spec.datasource[0].url"
Error from server (BadRequest): error when creating "/azp/agent/_work/20/s/kustomize/overlays/EDIT/06grafana/kustomization-output.yaml": GrafanaDatasource in version "v1beta1" cannot be handled as a GrafanaDatasource: strict decoding error: unknown field "spec.datasource[0].access", unknown field "spec.datasource[0].name", unknown field "spec.datasource[0].type", unknown field "spec.datasource[0].url"
Error from server (BadRequest): error when creating "/azp/agent/_work/20/s/kustomize/overlays/EDIT/06grafana/kustomization-output.yaml": GrafanaDatasource in version "v1beta1" cannot be handled as a GrafanaDatasource: strict decoding error: unknown field "spec.datasource[0].access", unknown field "spec.datasource[0].isDefault", unknown field "spec.datasource[0].name", unknown field "spec.datasource[0].type", unknown field "spec.datasource[0].url"
*** Done




apiVersion: v1
kind: Service
metadata:
  name: grafana-service
  namespace: monitoring
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 3000
      targetPort: 3000
  selector:
    app: grafana



apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: prometheus-datasource
  namespace: monitoring
  labels:
    app: grafana
spec:
  json: |
    {
      "name": "Prometheus",
      "type": "prometheus",
      "url": "http://prometheus-k8s.monitoring:9090",
      "access": "proxy",
      "isDefault": true
    }


apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: loki-datasource
  namespace: monitoring
  labels:
    app: grafana
spec:
  json: |
    {
      "name": "Loki",
      "type": "loki",
      "url": "http://loki.monitoring:3100",
      "access": "proxy"
    }

apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: jaeger-datasource
  namespace: monitoring
  labels:
    app: grafana
spec:
  json: |
    {
      "name": "Jaeger",
      "type": "jaeger",
      "url": "http://jaeger-query.monitoring:16686",
      "access": "proxy"
    }


