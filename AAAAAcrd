apiVersion: v1
kind: Service
metadata:
  name: grafana-service
  namespace: monitoring
spec:
  type: ClusterIP
  ports:
    - name: http
      port: 3000
      targetPort: 3000
  selector:
    app: grafana



apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: prometheus-datasource
  namespace: monitoring
  labels:
    app: grafana
spec:
  json: |
    {
      "name": "Prometheus",
      "type": "prometheus",
      "url": "http://prometheus-k8s.monitoring:9090",
      "access": "proxy",
      "isDefault": true
    }


apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: loki-datasource
  namespace: monitoring
  labels:
    app: grafana
spec:
  json: |
    {
      "name": "Loki",
      "type": "loki",
      "url": "http://loki.monitoring:3100",
      "access": "proxy"
    }

apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: jaeger-datasource
  namespace: monitoring
  labels:
    app: grafana
spec:
  json: |
    {
      "name": "Jaeger",
      "type": "jaeger",
      "url": "http://jaeger-query.monitoring:16686",
      "access": "proxy"
    }


