# kustomize-overlay/EDIT/monitoring/ordering-config.yaml
apiVersion: builtin
kind: OrderingTransformer
metadata:
  name: ordering
spec:
  order:
    - CustomResourceDefinition
    - Namespace
    - ServiceAccount
    - ClusterRole
    - ClusterRoleBinding
    - Role
    - RoleBinding
    - Deployment
    - Service
    - Grafana
    - GrafanaDashboard
    - GrafanaDatasource



# kustomize-overlay/EDIT/monitoring/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # CRDs and operator must be installed first
  - ../../../kustomize-base/monitoring/grafana-operator
  # Then your grafana resources
  - 06grafana/

# Ensure proper ordering
configurations:
  - ordering-config.yaml
