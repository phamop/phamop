# Warning: 'patchesStrategicMerge' is deprecated. Please use 'patches' instead. Run 'kustomize edit fix' to update your Kustomization automatically.
error: no matches for Id MutatingWebhookConfiguration.v1.admissionregistration.k8s.io/opentelemetry-operator-mutating-webhook-configuration.[noNs]; failed to find unique target for patch MutatingWebhookConfiguration.v1.admissionregistration.k8s.io/opentelemetry-operator-mutating-webhook-configuration.[noNs]
DONE resource /azp/agent/_work/3/s/cluster/overlays/EDIT/opentelemetry-operator


---
namespace: monitoring

resources:
- opentelemetry-certificate.yaml
- ../../../base/opentelemetry-operator
- clusterrolebinding.yaml

patches:
- opentelemetry-webhook-patch.yaml

cluster/
├── base
│   ├── cert-manager-operator
│   │   ├── kustomization.yaml
│   │   └── namespace.yaml
│   ├── eck-elasticsearch-operator
│   │   ├── kustomization.yaml
│   │   └── namespace.yaml
│   ├── jaeger-operator
│   │   ├── kustomization.yaml
│   │   └── namespace.yaml
│   └── opentelemetry-operator
│       ├── clusterroles.yaml
│       ├── kustomization.yaml
│       ├── namespace.yaml
│       └── serviceaccount.yaml
└── overlays
    ├── EDDV
    │   ├── cert-manager-operator
    │   │   └── kustomization.yaml
    │   └── opentelemetry-operator
    │       └── kustomization.yaml
    └── EDIT
        ├── cert-manager-operator
        │   └── kustomization.yaml
        ├── eck-elasticsearch-operator
        │   └── kustomization.yaml
        ├── jaeger-operator
        │   └── kustomization.yaml
        └── opentelemetry-operator
            ├── clusterrolebinding.yaml
            ├── kustomization.yaml
            ├── opentelemetry-certificate.yaml
            └── opentelemetry-webhook-patch.yaml



# cluster/overlays/EDIT/certs/opentelemetry-certificate.yaml
apiVersion: cert-manager.io/v1
kind: Issuer
metadata:
  name: otel-selfsigned-issuer
  namespace: monitoring
spec:
  selfSigned: {}
---
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: opentelemetry-operator-service-cert
  namespace: monitoring
spec:
  dnsNames:
    - opentelemetry-operator-webhook-service.monitoring.svc
    - opentelemetry-operator-webhook-service.monitoring.svc.cluster.local
    - opentelemetry-operator-webhook-service.eddv-bld.svc
    - opentelemetry-operator-webhook-service.eddv-bld.svc.cluster.local
  secretName: opentelemetry-operator-service-cert
  issuerRef:
    name: otel-selfsigned-issuer
    kind: Issuer



#cluster/overlays/EDIT/certs/opentelemetry-webhook-patch.yaml
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: opentelemetry-operator-mutating-webhook-configuration
  annotations:
    cert-manager.io/inject-ca-from: monitoring/opentelemetry-operator-service-cert
