loki:
  persistence:
    enabled: true
    accessModes:
      - ReadWriteOnce
    size: 20Gi
    storageClassName: standard # or your specific StorageClass

  config:
    table_manager:
      retention_deletes_enabled: true
      retention_period: 7d

    schema_config:
      configs:
        - from: 2023-01-01
          store: boltdb-shipper
          object_store: filesystem
          schema: v11
          index:
            prefix: index_
            period: 24h

    storage_config:
      boltdb_shipper:
        active_index_directory: /var/loki/index
        shared_store: filesystem
      filesystem:
        directory: /var/loki/chunks

    compactor:
      working_directory: /var/loki/compactor
      shared_store: filesystem

  volumeMounts:
    - name: storage
      mountPath: /var/loki

  volumes:
    - name: storage
      persistentVolumeClaim:
        claimName: loki-pvc
